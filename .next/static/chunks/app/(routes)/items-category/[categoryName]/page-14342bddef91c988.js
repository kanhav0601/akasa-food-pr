(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{5725:function(e,t,a){Promise.resolve().then(a.bind(a,3983)),Promise.resolve().then(a.bind(a,8639)),Promise.resolve().then(a.t.bind(a,8173,23)),Promise.resolve().then(a.t.bind(a,231,23))},3983:function(e,t,a){"use strict";var s=a(7437),n=a(2265),r=a(6648),o=a(6463),i=a(9715),l=a(6360),d=a(8176),c=a(5956);t.default=function(e){var t,a;let{items:u}=e,f=sessionStorage.getItem("jwt"),g=JSON.parse(sessionStorage.getItem("user")),[m,p]=(0,n.useState)(1),[x,h]=(0,n.useState)(u.mrp||u.sellingprice),b=(0,o.useRouter)();if((0,n.useEffect)(()=>{u&&h(u.mrp||u.sellingprice)},[u]),!u)return(0,s.jsx)("div",{children:"Loading..."});let{id:v,mrp:N,sellingprice:j,images:y,name:w,description:k,quantity:C,categories:z}=u;return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 p-7 bg-white text-black",children:[(0,s.jsx)(r.default,{src:"".concat("http://localhost:1337").concat((null===(t=y[0])||void 0===t?void 0:t.url)||""),alt:"Product Image",width:300,height:300,className:"bg-slate-200 p-5 h-[320px] w-[300px] object-contain rounded-lg"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:w}),(0,s.jsx)("p",{className:"text-sm font-bold text-orange-600",children:k}),(0,s.jsxs)("div",{className:"flex gap-3 p-4",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold text-green-500",children:["₹",N]}),(0,s.jsxs)("h2",{className:"text-3xl line-through font-medium text-red-500",children:["₹",j]})]}),(0,s.jsxs)("p",{className:"text-lg font-medium",children:["Available Quantity: ",C]}),(0,s.jsxs)("div",{className:"flex flex-col items-baseline gap-5",children:[(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsxs)("div",{className:"p-2 border flex gap-10 items-center",children:[(0,s.jsx)("button",{disabled:m<=1,onClick:()=>p(m-1),children:"-"}),(0,s.jsx)("h2",{children:m}),(0,s.jsx)("button",{onClick:()=>p(m+1),children:"+"})]}),(0,s.jsxs)("h2",{className:"font-bold text-2xl",children:["Total: ₹",m*x]})]}),(0,s.jsxs)(l.z,{className:"flex gap-3 bg-purple-600",onClick:()=>{if(!f){b.push("/sign-in");return}let e={data:{quantity:m,amount:m*x,item:u.id,user:g.id}};console.log("Data sent to Strapi:",e),d.Z.addtocart(e,f).then(e=>{console.log("Response from Strapi:",e),(0,c.Am)("Added to cart")},e=>{console.error("Error adding to cart:",e),(0,c.Am)((null==e?void 0:e.message)||"Error adding to cart")})},children:[(0,s.jsx)(i.Z,{}),"Add To Cart"]})]}),(0,s.jsxs)("h2",{className:"text-2xl",children:[(0,s.jsx)("span",{className:"p-3 font-bold",children:"Category:"})," ",(null===(a=z[0])||void 0===a?void 0:a.name)||"Uncategorized"]})]})]})}},8176:function(e,t,a){"use strict";let s=a(8472).Z.create({baseURL:"https://akasa-admin-2.onrender.com/api"});t.Z={getCategory:()=>s.get("/categories?populate=*"),getSliders:()=>s.get("/sliders?populate=*").then(e=>e.data.data),getCategoryList:()=>s.get("/categories?populate=*").then(e=>e.data.data),getAllItems:()=>s.get("/items?populate=*").then(e=>e.data.data),itemsByCat:e=>s.get("/items?filters[categories][name][$in]=".concat(e,"&populate=*")).then(e=>e.data.data),registerUser:(e,t,a)=>s.post("/auth/local/register",{username:e,email:t,password:a}),signin:(e,t)=>s.post("/auth/local",{identifier:e,password:t}).then(e=>e.data),addtocart:(e,t)=>s.post("/user-carts",e,{headers:{Authorization:"Bearer "+t}})}},6360:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var s=a(7437),n=a(2265),r=a(1538),o=a(2218),i=a(7700);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:a,variant:n,size:o,asChild:d=!1,...c}=e,u=d?r.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(l({variant:n,size:o,className:a})),ref:t,...c})});d.displayName="Button"},8639:function(e,t,a){"use strict";a.d(t,{Dialog:function(){return l},DialogContent:function(){return f},DialogDescription:function(){return m},DialogHeader:function(){return g},DialogTrigger:function(){return d}});var s=a(7437),n=a(2265),r=a(3304),o=a(4697),i=a(7700);let l=r.fC,d=r.xz,c=r.h_;r.x8;let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});u.displayName=r.aV.displayName;let f=n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-3xl translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[n,(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=r.VY.displayName;let g=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};g.displayName="DialogHeader",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})}).displayName=r.Dx.displayName;let m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...n})});m.displayName=r.dk.displayName},7700:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(4839),n=a(6164);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[701,606,347,971,23,744],function(){return e(e.s=5725)}),_N_E=e.O()}]);